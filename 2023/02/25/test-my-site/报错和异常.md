
## springboot错误：

#### 错误：缺少依赖
```
java.lang.NoClassDefFoundError: javax/annotation/PostCons
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
```

- 解决1-更换不依赖该注解容器启动      
```
   <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
            <exclusions>
                <exclusion>
                    <groupId>org.springframework.boot</groupId>
                    <artifactId>spring-boot-starter-tomcat</artifactId>
                </exclusion>
            </exclusions>
        </dependency>

<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-jetty</artifactId>
</dependency>
```

- 解决2-导入依赖 
- https://stackoverflow.com/questions/52701459/i-cant-use-postconstruct-and-postdestroy-with-java-11

@PostConstruct和@PreDestroy注解都是 Java EE 的一部分。由于 Java EE 在 Java 9 中已被弃用并在 Java 11 中被删除，我们必须添加一个额外的依赖项才能使用这些注解：
对于 Maven

```
<dependency>
    <groupId>javax.annotation</groupId>
    <artifactId>javax.annotation-api</artifactId>
    <version>1.3.2</version>
</dependency>
```
如果使用 Gradle

```
implementation "javax.annotation:javax.annotation-api:1.3.2"
```

## logstash

```
- 使用普通用户启动logstash报错：
Logstash - java.lang.IllegalStateException：Logstash stopped processing because of an error: (NameError) cannot load (ext) (org.jruby.ext.openssl.OpenSSL)   或
Logstash - Logstash stopped processing because of an error:  (OpenSSL::X509::StoreError) setting default path failed: java.io.FileNotFoundException: /etc/pki/tls/certs/ca-bundle.crt (Permission denied)

原因：/etc/pki/tls/certs/ca-bundle.crt  是一个软连接 连接到  /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem 可能普通用户无权限访问，检查文件权限并修改权限
chmod 644 /etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem

- 报错：
org.jruby.exceptions.SystemExit: (SystemExit) exit
原因：有可能是因为和es版本不匹配。检查logstash和es版本，匹配相应版本
```


## http请求
```
NoHttpResponseException
org.apache.http.NoHttpResponseException: xxx failed to respond
```